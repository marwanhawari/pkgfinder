import{j as g,r as u,a as w,R as C,b as O}from"./vendor.9fdcc031.js";const j=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))p(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&p(o)}).observe(document,{childList:!0,subtree:!0});function f(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function p(i){if(i.ep)return;i.ep=!0;const r=f(i);fetch(i.href,r)}};j();const t=g.exports.jsx,s=g.exports.jsxs;function L({currentPackage:e}){return s("div",{className:e.name?"pkg":"pkg inactive",id:e.id,children:[t("div",{className:"pkg-id",children:e.title}),e.name&&s("div",{className:"pkg-contents",children:[e.name&&s("div",{className:"pkg-name",children:[t("b",{children:"Name:"})," ",e.name]}),e.author&&s("div",{className:"pkg-author",children:[t("b",{children:"Author:"})," ",e.author]}),e.description&&s("div",{className:"pkg-description",children:[t("b",{children:"Description:"})," ",e.description]})]}),e.name&&t("a",{href:e.url,className:"material-icons pkg-link",rel:"noopener noreferrer",target:"_blank",children:"open_in_new"})]})}function A({packages:e}){return t("div",{id:"pkgs",children:e.map(n=>t(L,{currentPackage:n},n.id))})}function D({currentDomain:e}){return s("div",{className:e.available?"domain":"domain inactive",id:e.id,children:[s("div",{className:"pkg-id",children:[".",e.id]}),t("div",{className:"domain-status",children:e.available?"Available":""})]})}function I({domains:e}){return t("div",{id:"domains",children:e.map(n=>t(D,{currentDomain:n},n.id))})}async function M(e){try{return await w.get(e)}catch{return}}function _(){let e=[{id:"brewCask",title:"Homebrew Cask"},{id:"brewCore",title:"Homebrew Core"},{id:"pypi",title:"PyPI"},{id:"npm",title:"npm"},{id:"crates",title:"crates.io"},{id:"gems",title:"RubyGems"}],n=[{id:"com"},{id:"org"},{id:"net"},{id:"io"},{id:"dev"},{id:"app"}],f={display:"none"};const[p,i]=u.exports.useState(e),[r,o]=u.exports.useState(n),[b,v]=u.exports.useState(f),h=u.exports.useRef(null),d=u.exports.useRef(null);async function N(x){x.preventDefault(),h.current!=null&&v({display:"block"});let y;d.current!=null&&(y=d.current.value);let R=`https://api.pkgfinder.org/${y}`,m=await M(R);console.log(m),m||(m={config:{},headers:{},status:500,statusText:"Could not retrieve response from the server!",data:{}},i(e),o(n));let k=e.map(a=>a.id),S=n.map(a=>a.id);h.current!=null&&v({display:"none"});let c,l;for([c,l]of Object.entries(m.data))k.includes(c)?i(a=>[...a.slice(1),{id:c,title:a[0].title,name:l?l.name:null,author:l?l.author:null,description:l?l.description:null,url:l?l.url:null}]):S.includes(c)&&o(a=>[...a.slice(1),{id:c,available:l||null}]);d.current!=null&&(d.current.value="")}return s("div",{className:"body-content",children:[t("div",{className:"container",id:"title-container",children:t("h1",{id:"title",children:"pkgfinder"})}),s("form",{id:"form",onSubmit:N,children:[t("input",{type:"text",name:"search",id:"search",autoComplete:"off",placeholder:"Search",ref:d}),t("div",{className:"loader",style:b,ref:h})]}),s("div",{id:"main-content",children:[t("h3",{className:"label",children:"Package Registries"}),t(A,{packages:p}),t("h3",{className:"label",children:"Domains"}),t(I,{domains:r})]})]})}C.render(t(O.StrictMode,{children:t(_,{})}),document.getElementById("root"));
