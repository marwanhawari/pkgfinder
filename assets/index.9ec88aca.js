import{j as b,r as p,a as C,R as O,b as j}from"./vendor.9fdcc031.js";const L=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))m(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&m(d)}).observe(document,{childList:!0,subtree:!0});function f(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function m(i){if(i.ep)return;i.ep=!0;const r=f(i);fetch(i.href,r)}};L();const t=b.exports.jsx,s=b.exports.jsxs;function I({currentPackage:e}){return s("div",{className:e.name?"pkg":"pkg inactive",id:e.id,children:[t("div",{className:"pkg-id",children:e.title}),e.name&&s("div",{className:"pkg-contents",children:[e.name&&s("div",{className:"pkg-name",children:[t("b",{children:"Name:"})," ",e.name]}),e.author&&s("div",{className:"pkg-author",children:[t("b",{children:"Author:"})," ",e.author]}),e.description&&s("div",{className:"pkg-description",children:[t("b",{children:"Description:"})," ",e.description]})]}),e.name&&t("a",{href:e.url,className:"material-icons pkg-link",rel:"noopener noreferrer",target:"_blank",children:"open_in_new"})]})}function A({packages:e}){return t("div",{id:"pkgs",children:e.map(n=>t(I,{currentPackage:n},n.id))})}function D({currentDomain:e}){return s("div",{className:e.available?"domain":"domain inactive",id:e.id,children:[s("div",{className:"pkg-id",children:[".",e.id]}),t("div",{className:"domain-status",children:e.available?"Available":""})]})}function M({domains:e}){return t("div",{id:"domains",children:e.map(n=>t(D,{currentDomain:n},n.id))})}async function _(e){try{return await C.get(e)}catch{return}}function B(){let e=[{id:"brewCask",title:"Homebrew Cask"},{id:"brewCore",title:"Homebrew Core"},{id:"pypi",title:"PyPI"},{id:"npm",title:"npm"},{id:"crates",title:"crates.io"},{id:"gems",title:"RubyGems"}],n=[{id:"com"},{id:"org"},{id:"net"},{id:"io"},{id:"dev"},{id:"app"}],f={display:"none"};const[m,i]=p.exports.useState(e),[r,d]=p.exports.useState(n),[N,y]=p.exports.useState(f),h=p.exports.useRef(null),a=p.exports.useRef(null);function x(){let c;a.current!=null&&(c=a.current.value,c.includes(" ")&&(a.current.value=c.replace(/\s/g,"")))}async function R(c){c.preventDefault(),h.current!=null&&y({display:"block"});let g;a.current!=null&&(g=a.current.value);let k=`https://api.pkgfinder.org/${g}`,v=await _(k);v||(v={config:{},headers:{},status:500,statusText:"Could not retrieve response from the server!",data:{}},i(e),d(n));let S=e.map(o=>o.id),w=n.map(o=>o.id);h.current!=null&&y({display:"none"});let u,l;for([u,l]of Object.entries(v.data))S.includes(u)?i(o=>[...o.slice(1),{id:u,title:o[0].title,name:l?l.name:null,author:l?l.author:null,description:l?l.description:null,url:l?l.url:null}]):w.includes(u)&&d(o=>[...o.slice(1),{id:u,available:l||null}]);a.current!=null&&(a.current.value="")}return s("div",{className:"body-content",children:[t("div",{className:"container",id:"title-container",children:t("h1",{id:"title",children:"pkgfinder"})}),s("form",{id:"form",onSubmit:R,children:[t("input",{type:"text",name:"search",id:"search",autoComplete:"off",placeholder:"Search",ref:a,onInput:x}),t("div",{className:"loader",style:N,ref:h})]}),s("div",{id:"main-content",children:[t("h3",{className:"label",children:"Package Registries"}),t(A,{packages:m}),t("h3",{className:"label",children:"Domains"}),t(M,{domains:r})]})]})}O.render(t(j.StrictMode,{children:t(B,{})}),document.getElementById("root"));
